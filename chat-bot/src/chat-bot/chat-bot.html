
<button *ngIf="!open" @iconSpin id="chatLauncher" class="chat-launcher" aria-haspopup="dialog" aria-controls="chat-window"
        [attr.aria-expanded]="open" title="Open Chat" (click)="toggle()">
  <mat-icon>chat</mat-icon>
</button>

<section @slideFade id="chat-window"  class="chat-float" role="dialog" aria-label="Chat Window"
         [attr.aria-modal]="false" [class.open]="open" [class.minimized]="minimized" #chatWindow>

  <header id="chatDragHandle" class="chat-header" (mousedown)="startDrag($event)">
    <div class="chat-title">Chat</div>
    <div class="chat-actions">
      <button @leave id="closeBtn" class="icon-btn" title="Close" aria-label="Close" (click)="close()">âœ•</button>
    </div>
  </header>

  <main id="chat-body" class="chat-body" tabindex="-1" #chatBody aria-live="polite">
    <div *ngFor="let m of messages" class="msg" [class.user]="m.who === 'user'" [class.bot]="m.who === 'bot'">
      {{ m.text }}
    </div>
  </main>

  <footer class="chat-input">
    <label for="input" class="sr-only">Message</label>
    <input id="input" type="text" placeholder="Type message here..." #chatInput
           (keydown.enter)="send(chatInput)" autocomplete="off" />
    <button id="sendBtn" class="send-btn" (click)="send(chatInput)">Send</button>
  </footer>

  <div id="resizer" class="resizer" aria-hidden="true" (mousedown)="startResize($event)"></div>
</section>
